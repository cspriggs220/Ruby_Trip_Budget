#!/usr/bin/env ruby

require_relative 'bootstrap_ar'
database = ENV['FP_ENV'] || 'development'
connect_to database

# ARGV = add foo
command = ARGV[0]
trip_name = ARGV[1]

params = { command: command, trip: { name: trip_name } }
controller = TripController.new(params)
cat_controller = CategoryController.new(params)
# routes = { "add" => :create, "list" => :index, "remove" => :destroy }

# Look into finishing
# if route = routes[command]
#   controller.send route
# else
#   unless command == "help"

if command == "add"
  controller.create
elsif command == "list"
  controller.index
elsif command == "remove"
  controller.destroy
elsif command == "cat"
  cat_controller.index
  # elsif command == set && trip_name?
    # BudgetController.new(params)
end